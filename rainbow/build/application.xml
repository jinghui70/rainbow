<project name="application" default="build" basedir=".">
	<property name="application-name" value="XXXXXX" />
	<tstamp>
		<format property="BUILD_TIME" pattern="yyyyMMdd-HHmm" />
	</tstamp>
	<property name="version" value="4.0_${BUILD_TIME}" />
	<property name="dist" location="../dist" />
		
	<target name="upgrade-rainbow" description="upgrade rainbw">
		<delete file="dev.zip" />
		<delete file="deploy.zip" />
		<get dest="." src="http://10.10.1.184/download/dev.zip" httpusecaches="false" />
		<get dest="." src="http://10.10.1.184/download/deploy.zip" httpusecaches="false" />
		<delete dir="build" />
		<delete dir="bundle" />
		<delete file="lib/core.jar" />
		<unzip src="dev.zip" dest="." encoding="GBK" />
	</target>

	<target name="library">
		<!-- 如果用自己的库描述，在这里修改
			<property name="libjson" location="自己的library.json" /> 
		-->
		<ant antfile="build/library.xml" target="jenkins" useNativeBasedir="true" />
	</target>
	
	<target name="build" description="build">
		<ant antfile="build/build_bundle.xml" target="build" />
	</target>
	
	<target name="jenkins" depends="upgrade-rainbow, library, build" />
</project>